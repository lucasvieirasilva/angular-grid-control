"use strict";angular.module("template/grid",[]).run(["$templateCache",function(a){a.put("template/grid/pagination-grid.html",'<div>\n\r <div>\n\r   <table tabindex="0" ng-class="ctrl.tableClass" class="table">\n\r       <thead>\n\r           <tr>\n\r                <th ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top grid-control-column-check-box ">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">\n\r\t\t\t\t\t\t    <label>\n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="ctrl.checkBoxAllModel" ng-change="ctrl.checkBoxSelectAll()">\n\r\t\t\t\t\t\t        <span class="text"></span>\n\r\t\t\t\t\t\t    </label>\n\r\t\t\t\t\t\t</div>\n\r                </th>\n\r                <th ng-style="{\'width\' : col.width ? col.width : \'auto\'}" class="col-lg-5 vertical-align-top" ng-repeat="col in ctrl.columns">\n\r                   <span ng-if="!col.sort" class="col-xs-12 no-padding "><i ng-if="col.icon" ng-class="col.icon"></i> {{ col.displayName | translate }}</span> \n\r                   <a ng-if="col.sort" class="white" href="javascript:void(0);" ng-click="ctrl.searchDataSort(col.field)">\n\r                       {{ col.displayName | translate }}\n\r                       <span ng-show="ctrl.colSort == col.field && !ctrl.reverse" class="fa fa-caret-down"></span>\n\r                       <span ng-show="ctrl.colSort == col.field && ctrl.reverse" class="fa fa-caret-up"></span>\n\r                   </a>\n\r                   <div class="margin-top-10 input-group" ng-if="col.filter && (col.filterType && col.filterType != \'date\')">\n\r                         <span class="input-group-addon"><i class="glyphicon glyphicon-search"></i></span>\n\r                         <input class="form-control input-sm" type="search" ng-change="ctrl.searchData(col.filterValue)" ng-model="col.filterValue" />\n\r                   </div>\n\r                   <div ng-if="col.filter && (col.filterType && col.filterType == \'date\')" class="input-group" ng-controller="gridControlDatePickerCtrl">\n\r                      <input type="text" class="form-control" show-button-bar="false" ng-change="ctrl.searchData(col.filterValue)" uib-datepicker-popup="{{format}}" ng-model="$parent.col.filterValue" is-open="opened" datepicker-options="Options" close-text="Close" />\n\r                      <span class="input-group-btn">\n\r                          <button type="button" class="btn btn-default" ng-click="open($event)">\n\r                              <i class="glyphicon glyphicon-calendar"></i>\n\r                          </button>\n\r                      </span>\n\r                   </div>\n\r                </th>\n\r           </tr>\n\r       </thead>\n\r       <tbody>\n\r           <tr ng-repeat="row in ctrl.data" ng-click="ctrl.select(row, $event)" ng-focus="ctrl.select(row, $event)" ng-class="ctrl.rowCssClass(row)">\n\r                <td ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top  grid-control-column-check-box">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">\n\r\t\t\t\t\t\t    <label>\n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="row[ctrl.checkboxField]" ng-change="ctrl.checkBoxSelection(row)">\n\r\t\t\t\t\t\t        <span class="text"></span>\n\r\t\t\t\t\t\t    </label>\n\r\t\t\t\t\t\t</div>\n\r                </td>\n\r               <td ng-repeat="col in ctrl.columns">\n\r                   <span ng-if="col.cellTemplate" gc-compile="col.cellTemplate" cell-template-scope="col.cellTemplateScope"></span>\n\r                   <span ng-if="!col.cellTemplate">{{row[col.field]}}</span>\n\r               </td>\n\r           </tr>\n\r       </tbody>\n\r   </table>\n\r   </div>\n\r   <div ng-show="ctrl.showPagination" class="grid-control-text-align-center grid-control-margin-top-20 grid-control-pagination-greed" >\n\r         <div ng-if="params.options.pagination.useItemsPerPage == true || params.options.pagination.useItemsPerPage == undefined" class="grid-control-floatLeft grid-control-number-pagination">\n\r             <span>{{ ctrl.itemsPerPageText }}: </span>\n\r             <select name="pageSize" id="pageSize" ng-options="option as option for option in ctrl.pageSizes" ng-model="ctrl[ctrl.pagingInfoProperty][ctrl.pageSizeProperty]"></select>\n\r         </div>\n\r         <ul uib-pagination \n\r             ng-model="ctrl[ctrl.pagingInfoProperty][ctrl.pageIndexProperty]" \n\r             total-items="ctrl[ctrl.pagingInfoProperty][ctrl.totalCountProperty]" \n\r             items-per-page="ctrl[ctrl.pagingInfoProperty][ctrl.pageSizeProperty]"  \n\r             max-size="5" \n\r             boundary-links="true" \n\r             previous-text="{{ ctrl.previousText }}" \n\r             next-text="{{ ctrl.nextText }}" \n\r             first-text="{{ ctrl.firstText }}" \n\r             last-text="{{ ctrl.lastText }}">\n\r         </ul>\n\r   </div>\n</div>'),a.put("template/grid/simple-grid.html",'<div>\n\r   <table tabindex="-1" ng-class="ctrl.tableClass" class="table">\n\r       <thead>\n\r           <tr>\n\r                <th ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top grid-control-column-check-box ">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">\n\r\t\t\t\t\t\t    <label>\n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="ctrl.checkBoxAllModel" ng-change="ctrl.checkBoxSelectAll()">\n\r\t\t\t\t\t\t        <span class="text"></span>\n\r\t\t\t\t\t\t    </label>\n\r\t\t\t\t\t\t</div>\n\r                </th>\n\r                <th ng-style="{\'width\' : col.width ? col.width : \'auto\'}" class="col-lg-5 vertical-align-top" ng-repeat="col in ctrl.columns">\n\r                   <span ng-if="!col.sort"><i ng-if="col.icon" ng-class="col.icon"></i> {{ col.displayName | translate }}</span>\n\r                   <a ng-if="col.sort" class="white" href="javascript:void(0);" ng-click="ctrl.orderByGrid(col.field)">\n\r                       {{ col.displayName | translate }}\n\r                       <span ng-show="ctrl.colSort == col.field && !ctrl.reverse" class="fa fa-caret-down"></span>\n\r                       <span ng-show="ctrl.colSort == col.field && ctrl.reverse" class="fa fa-caret-up"></span>\n\r                   </a>\n\r                </th>\n\r           </tr>\n\r       </thead>\n\r       <tbody>\n\r           <tr tabindex={{$index}} ng-repeat="row in ctrl.data | orderBy:ctrl.colSort:ctrl.reverse track by $index" ng-click="ctrl.select(row, $event)" ng-focus="ctrl.select(row, $event)" ng-class="ctrl.rowCssClass(row)">\n\r                <td ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top  grid-control-column-check-box">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">\n\r\t\t\t\t\t\t    <label>\n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="row[ctrl.checkboxField]" ng-change="ctrl.checkBoxSelection(row)">\n\r\t\t\t\t\t\t        <span class="text"></span>\n\r\t\t\t\t\t\t    </label>\n\r\t\t\t\t\t\t</div>\n\r                </td>\n\r               <td ng-repeat="col in ctrl.columns">\n\r                   <span ng-if="col.cellTemplate" gc-compile="col.cellTemplate" cell-template-scope="col.cellTemplateScope"></span>\n\r                   <span ng-if="!col.cellTemplate">{{row[col.field]}}</span>\n\r               </td>\n\r           </tr>\n\r       </tbody>\n\r   </table>\n</div>'),a.put("template/grid/scroll-grid.html",'<div class="table-scrollable" ng-style="{ height: ctrl.height ? ctrl.height : \'auto\' }">\n\r <div>\n\r   <table tabindex="-1" ng-class="ctrl.tableClass" class="table">\n\r       <thead>\n\r           <tr>\n\r                <th ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top grid-control-column-check-box ">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">\n\r\t\t\t\t\t\t    <label>                           \n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="ctrl.checkBoxAllModel" ng-change="ctrl.checkBoxSelectAll()">\n\r\t\t\t\t\t\t        <span class="text"></span>\n\r\t\t\t\t\t\t    </label>\n\r\t\t\t\t\t\t</div>\n\r                </th>\n\r                <th ng-style="{\'width\' : col.width ? col.width : \'auto\'}" class="col-lg-5 vertical-align-top" ng-repeat="col in ctrl.columns">\n\r                   <span class="margin-bottom-10 col-xs-12 no-padding "><i ng-if="col.icon" ng-class="col.icon"></i> {{ col.displayName | translate }}</span> \n\r                </th>\n\r           </tr>\n\r       </thead>\n\r       <tbody>\n\r           <tr ng-repeat="row in ctrl.data" ng-click="ctrl.select(row, $event)" ng-class="ctrl.rowCssClass(row)">\n\r                <td ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top  grid-control-column-check-box">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">              \n\r\t\t\t\t\t\t    <label>                           \n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="row[ctrl.checkboxField]" ng-change="ctrl.checkBoxSelection(row)">     \n\r\t\t\t\t\t\t        <span class="text"></span>  \n\r\t\t\t\t\t\t    </label>                          \n\r\t\t\t\t\t\t</div>                                \n\r                </td>\n\r               <td ng-repeat="col in ctrl.columns">\n\r                   <span ng-if="col.cellTemplate" gc-compile="col.cellTemplate" cell-template-scope="col.cellTemplateScope"></span>\n\r                   <span ng-if="!col.cellTemplate">{{row[col.field]}}</span>\n\r               </td>\n\r           </tr>\n\r       </tbody>\n\r   </table>\n\r   </div>\n</div>'),a.put("template/grid/vs-simple-grid.html",'<div class="vs-table-scroll">\n\r   <table tabindex="-1" ng-class="ctrl.tableClass" class="table">\n\r       <thead>\n\r           <tr>\n\r                <th ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top grid-control-column-check-box">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">\n\r\t\t\t\t\t\t    <label>\n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="ctrl.checkBoxAllModel" ng-change="ctrl.checkBoxSelectAll()">\n\r\t\t\t\t\t\t        <span class="text"></span>\n\r\t\t\t\t\t\t    </label>\n\r\t\t\t\t\t\t</div>\n\r                </th>\n\r                <th ng-style="{\'width\' : col.width ? col.width : \'auto\'}" class="col-lg-5 vertical-align-top" ng-repeat="col in ctrl.columns">\n\r                   <span ng-if="!col.sort"><i ng-if="col.icon" ng-class="col.icon"></i> {{ col.displayName | translate }}</span>\n\r                   <a ng-if="col.sort" class="white" href="javascript:void(0);" ng-click="ctrl.orderByGrid(col.field)">\n\r                       {{ col.displayName | translate }}\n\r                       <span ng-show="ctrl.colSort == col.field && !ctrl.reverse" class="fa fa-caret-down"></span>\n\r                       <span ng-show="ctrl.colSort == col.field && ctrl.reverse" class="fa fa-caret-up"></span>\n\r                    </a>\n\r                </th>\n\r           </tr>\n\r       </thead>\n\r       <tbody vs-repeat vs-scroll-parent=".vs-table-scroll">\n\r           <tr ng-repeat="row in ctrl.data | orderBy:ctrl.colSort:ctrl.reverse" ng-click="ctrl.select(row, $event)" ng-class="ctrl.rowCssClass(row)">\n\r                <td ng-if="ctrl.checkbox" class="col-lg-5 vertical-align-top grid-control-column-check-box">\n\r\t\t\t\t\t\t<div class="checkbox grid-control-no-margin">\n\r\t\t\t\t\t\t    <label>\n\r\t\t\t\t\t\t        <input type="checkbox" class="colored-blue" ng-model="row[ctrl.checkboxField]" ng-change="ctrl.checkBoxSelection(row)">\n\r\t\t\t\t\t\t        <span class="text"></span>\n\r\t\t\t\t\t\t    </label>\n\r\t\t\t\t\t\t</div>\n\r               </td>\n\r               <td ng-repeat="col in ctrl.columns">\n\r                   <span ng-if="col.cellTemplate" gc-compile="col.cellTemplate" cell-template-scope="col.cellTemplateScope"></span>\n\r                   <span ng-if="!col.cellTemplate">{{row[col.field]}}</span>\n\r               </td>\n\r           </tr>\n\r       </tbody>\n\r   </table>\n</div>')}]);var gcSimpleLink=function(a,b,c){a.params.options&&(a.params.selection=!0,a.params.multipleSelection&&(b.bind("keyup",function(b){return b.ctrlKey&&65==b.keyCode&&a.ctrl.selectAll(),b.preventDefault(),!1}),b.bind("mousedown",function(a){if(a.shiftKey)return a.preventDefault(),!1})),b.bind("keydown",function(c){c.ctrlKey&&a.params.multipleSelection&&c.preventDefault();var d;if(40==c.keyCode?d=a.params.selectedItem.Index+1:38==c.keyCode&&(d=a.params.selectedItem.Index-1),null!=d&&d>=0)return a.safeApply(function(){var e=_.find(a.ctrl.data,function(a){return a.Index==d});if(e)if(a.ctrl.select(e,a),a.params.options.checkbox){var f,g=b.find(".grid-control-item-selected"),h=g.find("input[type=checkbox]"),i=b.find("input[type=checkbox]");40==c.keyCode?f=_.indexOf(i,h[0])+1:38==c.keyCode&&(f=_.indexOf(i,h[0])-1),i[f].parentElement.focus()}else{var j,k=b.find(".grid-control-item-selected"),l=b.find("tr");40==c.keyCode?j=_.indexOf(l,k[0]):38==c.keyCode&&(j=_.indexOf(l,k[0])-2),$("[tabindex="+j+"]").focus()}}),c.preventDefault(),!1}))};angular.module("angular-grid-control",["template/grid"]).directive("gcCompile",["$compile",function(a){return{restrict:"EA",link:function(b,c,d){b.cellTemplateScope=b.$eval(d.cellTemplateScope),b.$watch(d.gcCompile,function(d){var e=a(d),f=e(b);c.append(f)})}}}]).directive("gcSimple",function(){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/grid/simple-grid.html"},scope:{params:"=",selectedItem:"=",onSelect:"="},controller:"gridControlController",controllerAs:"ctrl",link:gcSimpleLink}}).directive("gcVsSimple",function(){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/grid/vs-simple-grid.html"},scope:{params:"=",selectedItem:"=",onSelect:"="},controller:"gridControlController",controllerAs:"ctrl",link:gcSimpleLink}}).directive("gcPagination",["$q",function(a){return{restrict:"E",templateUrl:function(a,b){return b.templateUrl||"template/grid/pagination-grid.html"},scope:{params:"=",selectedItem:"=",onSelect:"="},controller:"gridControlController",controllerAs:"ctrl",link:gcSimpleLink}}]).directive("gcScroll",["$q",function(a){return{restrict:"E",replace:!0,templateUrl:function(a,b){return b.templateUrl||"template/grid/scroll-grid.html"},scope:{params:"=",selectedItem:"=",onSelect:"="},controller:"gridControlController",controllerAs:"ctrl",link:function(a,b,c){var d=b[0];b.bind("scroll",function(b){d.scrollTop+d.offsetHeight>d.scrollHeight&&!a.ctrl.gettingMore&&a.ctrl.getMore()})}}}]).controller("gridControlController",["$scope","$q","$element","$timeout","orderByFilter",function(a,b,c,d,e){var f=this;if(a.safeApply=function(a){var b=this.$root.$$phase;"$apply"==b||"$digest"==b?a&&"function"==typeof a&&a():this.$apply(a)},f.data=[],f.height=null,f.tableClass="table-striped table-bordered table-hover",f.selectedRows=[],a.multipleSelected=!1,f.selectAll=function(){f.selectRows(void 0)},f.deselectAll=function(){f.deselectRows(void 0)},a.params.data&&(f.data=a.params.data,f.indexOrder&&f.indexOrder()),a.params.options&&a.params.options.tableClass&&(f.tableClass=a.params.options.tableClass),a.params.options&&a.params.options.height&&(f.height=a.params.options&&a.params.options.height),f.columns=a.params.columns,f.colSort=null,f.columns.forEach(function(a){a.sort&&angular.isString(a.sort)&&(f.reverse="DESC"==a.sort,f.colSort=a.field)}),f.colSort&&!(a.params.options&&a.params.options.pagination&&a.params.options.pagination.useSort)){f.data=e(f.data,f.colSort,f.reverse);for(var g=0;g<f.data.length;g++)f.data[g].Index=g}var h=!1,i=!1;if(f.orderByGrid=function(a){f.reverse=null!==a&&f.colSort===a&&!f.reverse,f.colSort=a,f.data=e(f.data,f.colSort,f.reverse);for(var b=0;b<f.data.length;b++)f.data[b].Index=b},f.searchDataSort=function(a){h=!0,f.reverse=null!==a&&f.colSort===a&&!f.reverse,f.colSort=a,f.buildData(!0,a).then(function(a){h=!1}).catch(function(a){h=!1})},f.select=function(b,c){if(a.params.selection&&!c.ctrlKey&&(a.params.selectedItem=b,a.$emit("gridControl:selectItem",b),f.deselectAll(),a.onSelect instanceof Function&&a.onSelect(b),a.params.events&&a.params.events.onSelectItem instanceof Function&&a.params.events.onSelectItem(b)),a.params.multipleSelection&&c.ctrlKey&&(a.params.selectedItem&&f.selectedRows.indexOf(a.params.selectedItem)==-1?f.selectedRows.push(a.params.selectedItem):angular.equals(a.params.selectedItem,b)&&(a.params.selectedItem=void 0),f.selectedRows&&f.selectedRows.indexOf(b)>=0?f.selectedRows.length>1&&f.deselectRows(b):f.selectRows(b)),a.params.multipleSelection&&c.shiftKey){var d,e;for(a.params.selectedItem.Index>a.params.oldSelected.Index?(d=a.params.oldSelected.Index,e=a.params.selectedItem.Index):(d=a.params.selectedItem.Index,e=a.params.oldSelected.Index),d;d<=e;d++){var g=_.find(a.params.data,function(a){return a.Index==d});f.selectedRows.indexOf(g)==-1?(f.selectedRows.push(g),f.selectRows(g)):f.deselectRows(g)}a.params.oldSelected=a.params.selectedItem}},f.selectRows=function(b){a.multipleSelected=!0,b?f.selectedRows.push(b):f.selectedRows=f.data.concat([]),a.params.events&&a.params.events.onMultipleSelectItem instanceof Function&&a.params.events.onMultipleSelectItem(f.selectedRows)},f.deselectRows=function(b){b?f.selectedRows.splice(f.selectedRows.indexOf(b),1):(f.selectedRows=[],a.multipleSelected=!1),a.params.events&&a.params.events.onMultipleSelectItem instanceof Function&&(f.selectedRows&&f.selectedRows.length>0?a.params.events.onMultipleSelectItem(f.selectedRows):a.params.events.onMultipleSelectItem(void 0))},f.error=function(b){return!(!a.params.callbacks||!a.params.callbacks.error)&&a.params.callbacks.error(b)},f.warning=function(b){return!(!a.params.callbacks||!a.params.callbacks.warning)&&a.params.callbacks.warning(b)},f.searchData=function(a){h=!0,f.buildData(!0).then(function(a){h=!1}).catch(function(a){h=!1})},f.rowCssClass=function(b){return{danger:f.error(b),warning:f.warning(b),"cursor-pointer":a.params.selection,"grid-control-item-selected":f.isSelected(b),"grid-control-multiple-selected":f.IsMultipleSelected(b)}},f.isSelected=function(b){return a.params.selectedItem==b},a.params.update=function(a){f.buildData(a)},f.IsMultipleSelected=function(b){return a.multipleSelected&&f.selectedRows.indexOf(b)>=0},f.buildData=function(){var c=b.defer();f.getData=a.params.data;var d=a.params.options&&a.params.options.async;return d?f.getData().then(function(a){f.data=a,c.resolve(a)}).catch(function(a){c.reject(a)}):(f.data=f.getData(),c.resolve(f.data)),c.promise},f.indexOrder=function(){f.data=f.reverse?_.sortBy(f.data,[f.colSort],["asc"]):_.sortBy(f.data,[f.colSort],["desc"]);for(var a=0;a<f.data.length;a++)f.data[a].Index=a},a.params.options&&"pagination"==a.params.options.type){f.itemsPerPageText="Items per page",f.previousText="Previous",f.nextText="Next",f.lastText="Last",f.firstText="First",f.pagingInfoProperty="pagingInfo",f.pageSizeProperty="pageSize",f.pageIndexProperty="pageIndex",f.totalCountProperty="totalCount",f.hasNextPageProperty="hasNextPage",f.hasPreviousPageProperty="hasPreviousPage",f.itemsProperty="items",f.sortOrderProperty="sortOrder",a.params.options&&a.params.options.pagination&&(a.params.options.pagination.itemsPerPageText&&(f.itemsPerPageText=a.params.options.pagination.itemsPerPageText),a.params.options.pagination.firstText&&(f.firstText=a.params.options.pagination.firstText),a.params.options.pagination.lastText&&(f.lastText=a.params.options.pagination.lastText),a.params.options.pagination.nextText&&(f.nextText=a.params.options.pagination.nextText),a.params.options.pagination.previousText&&(f.previousText=a.params.options.pagination.previousText),a.params.options.pagination.pagingInfoProperty&&(f.pagingInfoProperty=a.params.options.pagination.pagingInfoProperty),a.params.options.pagination.pageSizeProperty&&(f.pageSizeProperty=a.params.options.pagination.pageSizeProperty),a.params.options.pagination.pageIndexProperty&&(f.pageIndexProperty=a.params.options.pagination.pageIndexProperty),a.params.options.pagination.totalCountProperty&&(f.totalCountProperty=a.params.options.pagination.totalCountProperty),a.params.options.pagination.hasPreviousPageProperty&&(f.hasPreviousPageProperty=a.params.options.pagination.hasPreviousPageProperty),a.params.options.pagination.hasNextPageProperty&&(f.hasNextPageProperty=a.params.options.pagination.hasNextPageProperty),a.params.options.pagination.itemsProperty&&(f.itemsProperty=a.params.options.pagination.itemsProperty),a.params.options.pagination.sortOrderProperty&&(f.sortOrderProperty=a.params.options.pagination.sortOrderProperty)),f.showPagination=!0,f.getData=a.params.data,f.pageSizes=[5,10,15,20,25,30,50,100],f[f.pagingInfoProperty]={},f[f.pagingInfoProperty][f.pageIndexProperty]=1,a.params.options&&a.params.options.pagination&&a.params.options.pagination.pageSize?f[f.pagingInfoProperty][f.pageSizeProperty]=a.params.options.pagination.pageSize:a.params.options&&(!a.params.options.pagination||a.params.options.pagination&&!a.params.options.pagination.useItemsPerPage)&&(f[f.pagingInfoProperty][f.pageSizeProperty]=f.pageSizes[0]),a.$watch("ctrl[ctrl.pagingInfoProperty][ctrl.pageIndexProperty] + ctrl[ctrl.pagingInfoProperty][ctrl.pageSizeProperty]",function(){return i?void(i=!1):void(h||(a.$emit("gridControl:beforePageChanged"),f.buildData(!1,f.colSort).then(function(){a.$emit("gridControl:afterPageChanged")})))});var j=function(a){a[f.pagingInfoProperty][f.pageIndexProperty]+=1,f.data=a[f.itemsProperty],f[f.pagingInfoProperty]=a[f.pagingInfoProperty],f.showPagination=f[f.pagingInfoProperty][f.hasNextPageProperty]||f[f.pagingInfoProperty][f.hasPreviousPageProperty]};f.buildData=function(c,d){var e=b.defer(),g={};if(g[f.pagingInfoProperty]=angular.copy(f[f.pagingInfoProperty]),g[f.pagingInfoProperty][f.pageIndexProperty]-=1,a.params.options.pagination.useSort){var h=1==f.reverse?"DESC":"ASC";g[f.sortOrderProperty]=d?d+" "+h:null}var k=!1;f.columns.forEach(function(a){a.filter&&(a.filterValue&&(k=!0),g[a.field]=a.filterValue)}),c===!0&&k&&(i=0!=g[f.pagingInfoProperty][f.pageIndexProperty],g[f.pagingInfoProperty][f.pageIndexProperty]=0),f.checkBoxAllModel=!1;var l=a.params.options&&a.params.options.async;if(l)f.getData(g).then(function(b){j(b),a.params.currentData=f.data,f.indexOrder&&f.indexOrder(),e.resolve(b)}).catch(function(a){f.data=[],f.indexOrder&&f.indexOrder(),f.showPagination=!1,e.reject(a)});else{var m=f.getData(g);j(m),e.resolve(m)}return e.promise}}else if(a.params.options&&"scroll"==a.params.options.type){f.height||(f.height="300px"),f.getMore=function(){f.gettingMore=!0,f.buildData().finally(function(){f.gettingMore=!1})};var k=function(a){Array.isArray(f.data)||(f.data=[]),f.data=f.data.concat(a)};f.buildData=function(){var c=b.defer();f.getData=a.params.data;var d=a.params.options&&a.params.options.async;if(d)f.getData().then(function(a){k(a),c.resolve(f.data)}).catch(function(a){c.reject(a)});else{var e=f.getData();k(e),c.resolve(f.data)}return c.promise},f.buildData()}else a.$watch("params.data",function(a){a&&(f.data=a,f.indexOrder&&f.indexOrder())});a.params.options&&a.params.options.checkbox&&(f.checkboxField=a.params.options.checkboxField,f.checkboxField||(f.checkboxField="selected"),f.checkbox=a.params.options.checkbox,f.checkBoxSelection=function(a){var b=f.checkBoxAllModel;if(b&&!a[f.checkboxField])f.checkBoxAllModel=a[f.checkboxField];else if(!b&&f.data){var c=!0;f.data.forEach(function(a){a[f.checkboxField]||(c=!1)}),c&&(f.checkBoxAllModel=c)}},f.checkBoxSelectAll=function(){var a=f.checkBoxAllModel;f.data&&f.data.forEach(function(b){b[f.checkboxField]=a})})}]).controller("gridControlDatePickerCtrl",["$scope",function(a){a.formatDate=function(a){var b=function(a){return("0"+a).slice(-2)},c=b(a.getDate()),d=b(a.getMonth()),e=a.getFullYear();return[d,c,e].join("/")},a.today=new Date,a.open=function(b){b.preventDefault(),b.stopPropagation(),a.opened=!0},a.format="dd/MM/yyyy",a.Options={startingDay:1}}]);
//# sourceMappingURL=angular-grid-control.min.js.map